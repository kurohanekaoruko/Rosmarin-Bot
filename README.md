# Rosmarin-Bot / è¿·è¿­é¦™Bot

![language-typescript](https://img.shields.io/badge/language-typescript-3178c6)
![screeps](https://img.shields.io/badge/game-Screeps-green)
![license](https://img.shields.io/badge/license-MIT-blue)

ä¸€ä¸ªç”¨äº [Screeps](https://screeps.com/) çš„åŠè‡ªåŠ¨Botï¼Œä½¿ç”¨ TypeScript å¼€å‘ã€‚

ä¸åŒäºå…¨è‡ªåŠ¨Botï¼Œæœ¬é¡¹ç›®é‡‡ç”¨åŠè‡ªåŠ¨è®¾è®¡ç†å¿µâ€”â€”åŠŸèƒ½éœ€è¦æ‰‹åŠ¨é…ç½®å‚æ•°æ‰èƒ½å¯åŠ¨ï¼Œå› æ­¤å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ”¯æŒè‡ªå®šä¹‰è°ƒæ•´ï¼Œå¦‚ Lab/Factory çš„åˆæˆé˜ˆå€¼ã€Market çš„ä¹°å–ä»·æ ¼é™åˆ¶ç­‰ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æˆ¿é—´è¿è¥
- å¸¸é©» Creep è‡ªåŠ¨å­µåŒ–ä¸èƒ½é‡/èµ„æºå¡«å……
- èƒ½é‡çŸ¿ä¸å…ƒç´ çŸ¿è‡ªåŠ¨é‡‡é›†
- è‡ªåŠ¨å‡çº§ã€å»ºé€ ã€ç»´ä¿®
- é¢„è®¾å¸ƒå±€è‡ªåŠ¨æ”¾ç½®å·¥åœ°ï¼ˆæ”¯æŒå¤šç§å¸ƒå±€ï¼šrosemaryã€cloverã€hohoã€teaï¼‰

### ä»»åŠ¡ç³»ç»Ÿ
- åŸºäºä»»åŠ¡æ± çš„ Creep å·¥ä½œç®¡ç†
- æ”¯æŒæ¬è¿ã€å»ºé€ ã€ç»´ä¿®ã€å­µåŒ–ç­‰ä»»åŠ¡ç±»å‹

### å¤–çŸ¿é‡‡é›†
- ç›¸é‚»æˆ¿é—´èƒ½é‡è‡ªåŠ¨é‡‡é›†ï¼ˆæ”¯æŒä¸­å¤®ä¹æˆ¿ï¼‰
- è¿‡é“æˆ¿é—´ PowerBank / Deposit è‡ªåŠ¨ç›‘æ§ä¸é‡‡é›†
- å¤–çŸ¿é“è·¯è‡ªåŠ¨å»ºé€ ä¸ç»´æŠ¤

### ç”Ÿäº§ç³»ç»Ÿ
- **Lab**: è‡ªåŠ¨åŒ–åˆç‰©åˆæˆï¼Œæ”¯æŒé¢„è®¾æ–¹æ¡ˆä¸è‡ªå®šä¹‰é…æ–¹ï¼Œå¯è®¾å®šè§¦å‘é˜ˆå€¼å’Œé™é¢
- **Factory**: è‡ªåŠ¨åŒ–å•†å“ç”Ÿäº§ï¼Œæ”¯æŒå¤šçº§å•†å“ä¾›åº”é“¾
- **Boost**: ä»»åŠ¡æ§åˆ¶çš„ Creep å¼ºåŒ–

### èµ„æºä¸äº¤æ˜“
- è·¨æˆ¿é—´èµ„æºè‡ªåŠ¨è°ƒåº¦
- å¸‚åœºè‡ªåŠ¨æŒ‚å•ä¸ Deal äº¤æ˜“

### æˆ˜æ–—æ¨¡å—
- å››äººå°é˜ŸååŒä½œæˆ˜
- æˆ˜äº‰æ¨¡å¼åˆ‡æ¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- npm æˆ– yarn

### å®‰è£…

```bash
npm install
```

### é…ç½®

åˆ›å»º `.secret.json` æ–‡ä»¶ï¼š

```json
{
    "main": {
        "token": "ä½ çš„Screeps Token",
        "protocol": "https",
        "hostname": "screeps.com",
        "port": 443,
        "path": "/",
        "branch": "main"
    },
    "sim": {
        "token": "ä½ çš„Screeps Token",
        "protocol": "https",
        "hostname": "screeps.com",
        "port": 443,
        "path": "/",
        "branch": "sim"
    },
    "local": {
        "copyPath": "æœ¬åœ°å®¢æˆ·ç«¯ä»£ç è·¯å¾„"
    }
}
```

> Token è·å–ï¼šç™»å½• Screeps å®˜ç½‘ â†’ Account â†’ Auth Tokens

### æ„å»ºå‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run build` | ä»…æ„å»ºï¼Œè¾“å‡ºåˆ° `dist/` |
| `npm run push` | æ„å»ºå¹¶ä¸Šä¼ åˆ° main åˆ†æ”¯ |
| `npm run sim` | æ„å»ºå¹¶ä¸Šä¼ åˆ° sim åˆ†æ”¯ |
| `npm run local` | æ„å»ºå¹¶å¤åˆ¶åˆ°æœ¬åœ°å®¢æˆ·ç«¯ |
| `npm run count` | ç»Ÿè®¡ä»£ç æ–‡ä»¶æ•°é‡ |

### æ¸¸æˆå†…å¯åŠ¨

1. æ·»åŠ æˆ¿é—´åˆ°æ§åˆ¶åˆ—è¡¨
   ```
   room.add('W1N1', 'rosemary', 25, 25)
   ```

2. é¢„è§ˆå¸ƒå±€
   ```
   layout.visual('W1N1')
   ```

3. ç”Ÿæˆå»ºç­‘ä½ç½®
   ```
   layout.build('W1N1')
   ```

4. å¼€å¯è‡ªåŠ¨å»ºç­‘
   ```
   layout.auto('W1N1')
   ```

## ğŸ“– æ§åˆ¶å°æŒ‡ä»¤

åœ¨æ¸¸æˆæ§åˆ¶å°è¾“å…¥ `help` æŸ¥çœ‹å®Œæ•´æŒ‡ä»¤åˆ—è¡¨ï¼š

| æŒ‡ä»¤ | è¯´æ˜ |
|------|------|
| `helpStart` | å¯åŠ¨æµç¨‹ |
| `helpRoom` | æˆ¿é—´ç®¡ç† |
| `helpLayout` | å¸ƒå±€è®¾ç½® |
| `helpOutmine` | å¤–çŸ¿é‡‡é›† |
| `helpMarket` | å¸‚åœºäº¤æ˜“ |
| `helpLab` | Lab åˆæˆ |
| `helpFactory` | Factory ç”Ÿäº§ |
| `helpPower` | Power ç›¸å…³ |
| `helpSpawn` | å­µåŒ–æ§åˆ¶ |
| `helpTerminal` | Terminal æ“ä½œ |
| `helpResource` | èµ„æºç®¡ç† |
| `helpOther` | å…¶ä»–åŠŸèƒ½ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ boot/           # å¯åŠ¨æ§åˆ¶
â”œâ”€â”€ console/        # æ§åˆ¶å°å‘½ä»¤
â”œâ”€â”€ constant/       # å¸¸é‡é…ç½®
â”œâ”€â”€ framework/      # æ¡†æ¶æ ¸å¿ƒ
â”œâ”€â”€ interface/      # ç±»å‹å®šä¹‰
â”œâ”€â”€ modules/        # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ FlagSpawn/  # å­µåŒ–è§¦å‘
â”‚   â”œâ”€â”€ function/   # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ planner/    # å¸ƒå±€è§„åˆ’
â”‚   â”œâ”€â”€ team/       # å°é˜Ÿæˆ˜æ–—
â”‚   â””â”€â”€ utils/      # å·¥å…·å‡½æ•°
â”œâ”€â”€ prototype/      # åŸå‹æ‰©å±•
â”œâ”€â”€ wheel/          # è½®å­
â”œâ”€â”€ main.ts         # å…¥å£æ–‡ä»¶
â””â”€â”€ utils.ts        # é€šç”¨å·¥å…·
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- TypeScript 5.x
- Rollup æ„å»º
- Babel è½¬è¯‘
- Terser å‹ç¼©
- ESLint ä»£ç æ£€æŸ¥

## ğŸ“ æ³¨æ„äº‹é¡¹

- é¦–æ¬¡åˆ‡æ¢åˆ†æ”¯åå¦‚æœæŠ¥é”™ï¼Œå†æ‰§è¡Œä¸€æ¬¡ `npm run push` å³å¯
- æ‰‹åŠ¨å¸ƒå±€æ—¶éœ€ç¡®ä¿ Storageã€Terminalã€Factory ä¸ä¸€ä¸ª Link é›†ä¸­æ”¾ç½®
- å¤–çŸ¿é“è·¯å»ºé€ éœ€è¦æˆ¿é—´è¾¾åˆ°å¯¹åº”ç­‰çº§ï¼ˆèƒ½é‡çŸ¿ 4 çº§ï¼Œä¸­å¤®ä¹æˆ¿ 6 çº§ï¼‰

## ğŸ“„ License

MIT
